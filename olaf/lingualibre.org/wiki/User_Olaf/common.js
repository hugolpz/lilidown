<!DOCTYPE html>
<html class="client-nojs" lang="pl" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User:Olaf/common.js – Lingua Libre</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:Olaf/common.js","wgTitle":"Olaf/common.js","wgCurRevisionId":477649,"wgRevisionId":477649,"wgArticleId":450278,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":"Olaf","wgUserGroups":["sysop","*","user","autoconfirmed"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"javascript","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:Olaf/common.js","wgRelevantArticleId":450278,"wgRequestId":"05976222ebe74c74f8be642d","wgUserId":506,"wgUserEditCount":13111,"wgUserRegistration":1583324624000,"wgUserNewMsgRevisionId":null,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"Olaf","wgWikiEditorEnabledModules":[],"wgEchoEventLoggingSchemas":{"Echo":{"enabled":false,"revision":7731316,"client":false},"EchoMail":{"enabled":false,"revision":5467650,"client":false},"EchoInteraction":{"enabled":false,"revision":15823738,"client":true}},"wgEchoEventLoggingVersion":"1.12","wgULSAcceptLanguageList":["pl","en-us","en"],"wgULSBabelLanguages":["pl","en","de"],"wgULSCurrentAutonym":"polski","wgEchoSeenTime":{"alert":"2021-03-09T23:38:11Z","notice":"2021-03-09T19:02:44Z"}});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.pygments":"ready","wikibase.client.init":"ready","ext.echo.styles.badge":"ready","ext.echo.badgeicons":"ready","ext.uls.pt":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.bluell.styles":"ready"});mw.loader.implement("user.options@1vxp1i0",function($,jQuery,require,module){/*@nomin*/mw.user.options.set({"recwiz-lang":"Q298","uls-preferences":"{\"ime\":{\"language\":\"en\",\"previousLanguages\":[\"en\"],\"previousInputMethods\":[],\"imes\":{\"en\":\"system\"}}}","echo-subscriptions-email-edit-user-talk":1,"language":"pl","wikibase-entitytermsview-showEntitytermslistview":"1"});
});mw.loader.implement("user.tokens@06e78ab",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"88b5425ad2d440effc58f8a67790b4af604818bb+\\","patrolToken":"2e61850794786734e2a6a9b2b45196a9604818bb+\\","watchToken":"7345f131262bebc7537df510187d23c4604818bb+\\","csrfToken":"88b5425ad2d440effc58f8a67790b4af604818bb+\\"});
});mw.loader.load(["site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.page.watch.ajax","wikibase.ui.entitysearch","wikibase.client.linkitem.init","ext.echo.init","ext.uls.init","ext.uls.interface","skins.bluell.js"]);});</script>
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=pl&amp;modules=ext.echo.badgeicons%7Cext.echo.styles.badge%7Cext.pygments%7Cext.uls.pt%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cskins.bluell.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=bluell"/>
<script async="" src="/load.php?debug=false&amp;lang=pl&amp;modules=startup&amp;only=scripts&amp;skin=bluell"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/load.php?debug=false&amp;lang=pl&amp;modules=site.styles&amp;only=styles&amp;skin=bluell"/>
<meta name="generator" content="MediaWiki 1.31.7"/>
<meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0"/>
<link rel="alternate" type="application/x-wiki" title="Edytuj" href="/index.php?title=User:Olaf/common.js&amp;action=edit"/>
<link rel="edit" title="Edytuj" href="/index.php?title=User:Olaf/common.js&amp;action=edit"/>
<link rel="shortcut icon" href="/resources/assets/logo/lingualibre-favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Lingua Libre (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://lingualibre.org/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Kanał Atom Lingua Libre" href="/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if lt IE 9]><script src="/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=bluell&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_Olaf_common_js rootpage-User_Olaf skin-bluell action-view"><!-- START BLUELL TEMPLATE -->
		<header id="navwrapper">
			<nav role="navigation" id="menu">
				<ul class="title-area" role="banner">
					<li>
						<div class="title-name">
							<a href="/wiki/LinguaLibre:Main_Page">
								<img alt="Lingua Libre" class="top-bar-logo" src="/resources/assets/logo/lingualibre-logo-2x.png">
								<h1 class="title-name">Lingua Libre</h1>
							</a>
						</div>
					</li>
					<li class="toggle-topbar menu-icon">
						<a href="#"><span>Menu</span></a>
					</li>
				</ul>

				<section id="top-bar-sections">
					<ul id="top-bar-top-menu">
						<!-- Search form -->
						<li>
							<form action="/index.php" id="searchform" class="mw-search" role="search">
								<input type="search" name="search" placeholder="Szukaj" title="Przeszukaj Lingua Libre [f]" accesskey="f" id="searchInput"/>								<button type="submit" title="Szukaj"></button>
							</form>
						</li>

						<!-- Language selector -->
						<li>
							<li id="pt-uls" class="active"><a href="#" class="uls-trigger">polski</a></li>						</li>

						<!-- Record call-to-action -->
						<li id="p-record">
														<a href="https://lingualibre.org/wiki/Special:RecordWizard" accesskey="r">Nagrywanie</a></a>
						</li>

						<!-- If user is logged in output echo location -->
													<div id="echo-notifications-alerts"></div>
							<div id="echo-notifications-notice"></div>
						
						<!-- Personal menu dropdown -->
						<li id="personal-menu" class="dropdown mobile-menu">
							<input id="personal-input" type="checkbox" role="button" aria-labelledby="personal-button" autocomplete="off" class="dropdown-input mobile-menu-input">
							<label id="personal-button" for="personal-input" class="dropdown-label mobile-menu-label"></label>
							<ul id="personal" class="dropdown-content mobile-menu-content">
								<li id="pt-userpage"><a href="/wiki/User:Olaf" dir="auto" title="Moja strona osobista [.]" accesskey=".">Olaf</a></li><li id="pt-notifications-alert"><a href="/wiki/Special:Notifications" class="mw-echo-notifications-badge mw-echo-notification-badge-nojs mw-echo-notifications-badge-all-read" data-counter-num="0" data-counter-text="0" title="Moje powiadomienia">Powiadomienia (0)</a></li><li id="pt-notifications-notice"><a href="/wiki/Special:Notifications" class="mw-echo-notifications-badge mw-echo-notification-badge-nojs mw-echo-notifications-badge-all-read" data-counter-num="0" data-counter-text="0" title="Moje komunikaty">Powiadomienia (0)</a></li><li id="pt-mytalk"><a href="/wiki/User_talk:Olaf" title="Moja strona dyskusji [n]" accesskey="n">Dyskusja</a></li><li id="pt-preferences"><a href="/wiki/Special:Preferences" title="Moje preferencje">Preferencje</a></li><li id="pt-watchlist"><a href="/wiki/Special:Watchlist" title="Lista stron obserwowanych przeze mnie [l]" accesskey="l">Obserwowane</a></li><li id="pt-mycontris"><a href="/wiki/Special:Contributions/Olaf" title="Lista moich edycji [y]" accesskey="y">Edycje</a></li><li id="pt-logout"><a href="/index.php?title=Special:UserLogout&amp;returnto=User%3AOlaf%2Fcommon.js&amp;logoutToken=edd0d1f43c8cc54d76a50760f567b109604818bb%2B%5C" title="Wyloguj">Wyloguj</a></li>							</ul>
							<label id="personal-mask" for="personal-input" class="mobile-menu-mask"></label>
						</li>

					</ul>

					<div id="top-bar-bottom-menu">
													<ul id="p-LEFT">
																<li id="n-recordwizard"><a href="/wiki/Special:RecordWizard">Record Wizard</a></li><li id="n-talk"><a href="/wiki/LinguaLibre:Chat_room">Dyskusja</a></li><li id="n-menu-statistics"><a href="/wiki/Special:MyLanguage/LinguaLibre:Stats">Statystyki</a></li><li id="n-menu-datasets"><a href="https://lingualibre.org/datasets/" rel="nofollow">Zbiory danych</a></li><li id="n-help"><a href="/wiki/Special:MyLanguage/Help:Main" title="Tutaj możesz dowiedzieć się wielu rzeczy.">Pomoc</a></li><li id="n-about"><a href="/wiki/Special:MyLanguage/LinguaLibre:About">O Lingua Libre</a></li>															</ul>
													<ul id="p-RIGHT">
																															</ul>
													</ul>
													</ul>
						
						<!-- Edit button -->
													<span id="ca-edit"><a href="/index.php?title=User:Olaf/common.js&amp;action=edit" title="Edytuj tę stronę [e]" accesskey="e">Edytuj</a></span>												
						<!-- Action menu -->
						<div id="actions-menu" class="dropdown">
							<input id="actions-input" type="checkbox" role="button" aria-labelledby="actions-button" autocomplete="off" class="dropdown-input">
							<label id="actions-button" for="actions-input" class="dropdown-label">Akcje</label>
							<ul id="actions" class="dropdown-content">
								<li id="ca-nstab-user" class="selected"><a href="/wiki/User:Olaf/common.js" title="Zobacz stronę osobistą użytkownika [c]" accesskey="c">Strona użytkownika</a></li><li id="ca-talk" class="new"><a href="/index.php?title=User_talk:Olaf/common.js&amp;action=edit&amp;redlink=1" rel="discussion" title="Dyskusja o zawartości tej strony (strona nie istnieje) [t]" accesskey="t">Dyskusja</a></li><li id="ca-history"><a href="/index.php?title=User:Olaf/common.js&amp;action=history" title="Starsze wersje tej strony. [h]" accesskey="h">historia</a></li><li id="ca-delete"><a href="/index.php?title=User:Olaf/common.js&amp;action=delete" title="Usuń tę stronę [d]" accesskey="d">Usuń</a></li><li id="ca-move"><a href="/wiki/Special:MovePage/User:Olaf/common.js" title="Przenieś tę stronę. [m]" accesskey="m">Przenieś</a></li><li id="ca-protect"><a href="/index.php?title=User:Olaf/common.js&amp;action=protect" title="Zabezpiecz tę stronę. [=]" accesskey="=">Zabezpiecz</a></li><li id="ca-unwatch" class="mw-watchlink"><a href="/index.php?title=User:Olaf/common.js&amp;action=unwatch" data-mw="interface" title="Usuń tę stronę z listy obserwowanych [w]" accesskey="w">Nie obserwuj</a></li>															</ul>
						</div>
						<aside id="hamburger-menu" class="mobile-menu">
							<input id="hamburger-input" type="checkbox" role="button" aria-labelledby="hamburger-label" autocomplete="off" class="mobile-menu-input">
							<label id="hamburger-button" for="hamburger-input"  class="mobile-menu-label">Menu</label>
							<ul id="hamburger" class="mobile-menu-content">
								<!-- Hamburger search form -->
								<li id="m-searchitem">
									<form action="/index.php" id="m-searchform" class="mw-search" role="search">
										<input type="search" name="search" placeholder="Szukaj" title="Przeszukaj Lingua Libre [f]" accesskey="f" id="m-searchInput"/>										<button type="submit" title="Szukaj"></button>
									</form>
								</li>
								<!-- Hamburger navigation -->
																											<li id="mn-recordwizard"><a href="/wiki/Special:RecordWizard">Record Wizard</a></li><li id="mn-talk"><a href="/wiki/LinguaLibre:Chat_room">Dyskusja</a></li><li id="mn-menu-statistics"><a href="/wiki/Special:MyLanguage/LinguaLibre:Stats">Statystyki</a></li><li id="mn-menu-datasets"><a href="https://lingualibre.org/datasets/" rel="nofollow">Zbiory danych</a></li><li id="mn-help"><a href="/wiki/Special:MyLanguage/Help:Main">Pomoc</a></li><li id="mn-about"><a href="/wiki/Special:MyLanguage/LinguaLibre:About">O Lingua Libre</a></li>																		<!-- Hamburger Actions -->
								<li id="m-action-menu">
									<a href="#">Akcje</a>
									<ul>
										<li id="mca-nstab-user" class="selected"><a href="/wiki/User:Olaf/common.js">Strona użytkownika</a></li><li id="mca-talk" class="new"><a href="/index.php?title=User_talk:Olaf/common.js&amp;action=edit&amp;redlink=1" rel="discussion" title=" (strona nie istnieje)">Dyskusja</a></li><li id="mca-edit"><a href="/index.php?title=User:Olaf/common.js&amp;action=edit">Edytuj</a></li><li id="mca-history"><a href="/index.php?title=User:Olaf/common.js&amp;action=history">historia</a></li><li id="mca-delete"><a href="/index.php?title=User:Olaf/common.js&amp;action=delete">Usuń</a></li><li id="mca-move"><a href="/wiki/Special:MovePage/User:Olaf/common.js">Przenieś</a></li><li id="mca-protect"><a href="/index.php?title=User:Olaf/common.js&amp;action=protect">Zabezpiecz</a></li><li id="mca-unwatch" class="mw-watchlink"><a href="/index.php?title=User:Olaf/common.js&amp;action=unwatch" data-mw="interface">Nie obserwuj</a></li>																			</ul>
								</li>
							</ul>
							<label id="hamburger-mask" for="hamburger-input" class="mobile-menu-mask"></label>
						</aside>
					</div>
				</section>
			</nav>
		</header>

		<section id="page-content">
			<aside style="display: none;"> <!-- TODO: temporary hidden, how should it be styled ? -->

								
				<div id="mw-js-message" style="display:none;"></div>
			</aside>

			<article id="content" role="main">
				<header id="contentHeading">
					<hgroup>
													<h4 class="namespace">User</h4>
												<h1 id="firstHeading" class="title">Olaf/common.js</h1>
						<h2 id="contentSub"><span class="subpages">&lt; <a href="/wiki/User:Olaf" title="User:Olaf">User:Olaf</a></span></h2>
						<div class="mw-indicators mw-body-content">
</div>
					</hgroup>
				</header>
				<div id="bodyContent" class="mw-bodytext">
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="mw-clearyourcache" lang="pl" dir="ltr" class="mw-content-ltr">
<p><strong>Uwaga:</strong> aby zobaczyć zmiany po zapisaniu, może zajść potrzeba wyczyszczenia pamięci podręcznej przeglądarki.
</p>
<ul><li><strong>Firefox / Safari:</strong> Przytrzymaj <em>Shift</em> podczas klikania <em>Odśwież bieżącą stronę</em>, lub naciśnij klawisze <em>Ctrl+F5</em> lub <em>Ctrl+R</em> (<em>⌘-R</em> na komputerze Mac)</li>
<li><strong>Google Chrome:</strong> Naciśnij <em>Ctrl-Shift-R</em> (<em>⌘-Shift-R</em> na komputerze Mac)</li>
<li><strong>Internet Explorer:</strong> Przytrzymaj <em>Ctrl</em>, jednocześnie klikając <em>Odśwież</em>, lub naciśnij klawisze <em>Ctrl+F5</em></li>
<li><strong>Opera:</strong> Przejdź do <em>Menu → Ustawienia</em> (<em>Opera → Preferencje</em> w Mac), a następnie <em>Prywatność i bezpieczeństwo → Wyczyść dane przeglądania → Opróżnij pamięć podręczną</em>.</li></ul>
</div>
<div dir="ltr"><div class="mw-highlight"><pre><span></span><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span> <span class="nx">mw</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s1">&#39;wgCanonicalSpecialPageName&#39;</span> <span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;RecordWizard&#39;</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">mw</span><span class="p">.</span><span class="nx">loader</span><span class="p">.</span><span class="nx">using</span><span class="p">(</span> <span class="s1">&#39;ext.recordWizard.generator&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">rw</span> <span class="o">=</span> <span class="nx">mw</span><span class="p">.</span><span class="nx">recordWizard</span><span class="p">;</span>

	    <span class="cm">/*</span>
<span class="cm">	     * This first part allows the creation of a basic generator</span>
<span class="cm">	     * and allows the RecordWizard to find it (and thus, add a button in the UI for it)</span>
<span class="cm">	     *</span>
<span class="cm">	     * Replace everywhere in this file &quot;rw.generator.Demo&quot; by a custom</span>
<span class="cm">	     * and unique class name, but always in the &quot;rw.generator&quot; namespace.</span>
<span class="cm">	     * For example it can be: rw.generator.SomethingCool</span>
<span class="cm">	     */</span>
	    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">config</span> <span class="p">)</span> <span class="p">{</span>
		    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Generator</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">config</span> <span class="p">);</span>
	    <span class="p">};</span>

	    <span class="nx">OO</span><span class="p">.</span><span class="nx">inheritClass</span><span class="p">(</span> <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span><span class="p">,</span> <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Generator</span> <span class="p">);</span>

	    <span class="c1">// This line defines an internal name for the generator</span>
	    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span><span class="p">.</span><span class="kr">static</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;demo&#39;</span><span class="p">;</span>

	    <span class="c1">// And this one defines the name for the generator which will be displayed in the UI</span>
	    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span><span class="p">.</span><span class="kr">static</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">&#39;My Demo&#39;</span><span class="p">;</span>

	    <span class="cm">/*</span>
<span class="cm">	     * This function should contain all the popup initialization stuff.</span>
<span class="cm">	     * We create here for example two text fields, with a custom layout.</span>
<span class="cm">	     * For more information, see OOui documentation:</span>
<span class="cm">	     * https://www.mediawiki.org/wiki/OOUI</span>
<span class="cm">	     */</span>
	    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">initialize</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		    <span class="c1">// The two text fields</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">aTextField</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">TextInputWidget</span><span class="p">();</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">anotherTextField</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">TextInputWidget</span><span class="p">();</span>

		    <span class="c1">// The custom layout</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">layout</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">Widget</span><span class="p">(</span> <span class="p">{</span>
			    <span class="nx">content</span><span class="o">:</span> <span class="p">[</span>
				    <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">FieldLayout</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">aTextField</span><span class="p">,</span> <span class="p">{</span>
						    <span class="nx">align</span><span class="o">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
						    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;This field do something cool.&#39;</span>
					    <span class="p">}</span>
				    <span class="p">),</span>
				    <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">FieldLayout</span><span class="p">(</span>
					    <span class="k">this</span><span class="p">.</span><span class="nx">anotherTextField</span><span class="p">,</span> <span class="p">{</span>
						    <span class="nx">align</span><span class="o">:</span> <span class="s1">&#39;top&#39;</span><span class="p">,</span>
						    <span class="nx">label</span><span class="o">:</span> <span class="s1">&#39;This one too!&#39;</span>
					    <span class="p">}</span>
				    <span class="p">)</span>
			    <span class="p">]</span>
		    <span class="p">}</span> <span class="p">);</span>

		    <span class="c1">// To be displayed, all the fields/widgets/... should be appended to &quot;this.content.$element&quot;</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">$element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">layout</span><span class="p">.</span><span class="nx">$element</span> <span class="p">);</span>

		    <span class="c1">// Do not remove this line, it will initialize the popup itself</span>
		    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Generator</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">initialize</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="k">this</span> <span class="p">);</span>
	    <span class="p">};</span>

	    <span class="cm">/*</span>
<span class="cm">	     * This function will be called when the user press the &quot;Done&quot; button.</span>
<span class="cm">	     * </span>
<span class="cm">	     * Every words that you want to be added to the RecordWizard&#39;s word list</span>
<span class="cm">	     * have to be added to an array called &quot;this.list&quot;.</span>
<span class="cm">	     *</span>
<span class="cm">	     * The returned value can either be True, or if you want to do some asynchrone</span>
<span class="cm">	     * stuff, you can return a jQuery promise</span>
<span class="cm">	     */</span>
	    <span class="nx">rw</span><span class="p">.</span><span class="nx">generator</span><span class="p">.</span><span class="nx">Demo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fetch</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
		    <span class="c1">// Get the values of our text fields</span>
		    <span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span>
			    <span class="nx">demoText</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">aTextField</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(),</span>
			    <span class="nx">anotherDemoText</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">anotherTextField</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>

		    <span class="c1">// Initialize a new promise</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">deferred</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">Deferred</span><span class="p">();</span>

		    <span class="c1">// Initialize our word list</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">list</span> <span class="o">=</span> <span class="p">[];</span>

		    <span class="c1">// We will do a asynchronous AJAX request to frwiki&#39;s API</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">frwikiApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mw</span><span class="p">.</span><span class="nx">ForeignApi</span><span class="p">(</span> <span class="s1">&#39;https://fr.wikipedia.org/w/api.php&#39;</span><span class="p">,</span> <span class="p">{</span>
			    <span class="nx">anonymous</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
			    <span class="nx">parameters</span><span class="o">:</span> <span class="p">{</span> <span class="nx">origin</span><span class="o">:</span> <span class="s1">&#39;*&#39;</span> <span class="p">},</span>
			    <span class="nx">ajax</span><span class="o">:</span> <span class="p">{</span> <span class="nx">timeout</span><span class="o">:</span> <span class="mi">10000</span> <span class="p">}</span>
		    <span class="p">}</span> <span class="p">);</span>

		    <span class="c1">// To get 10 random pages from the main namespace</span>
		    <span class="k">this</span><span class="p">.</span><span class="nx">frwikiApi</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="p">{</span>
			    <span class="s2">&quot;action&quot;</span><span class="o">:</span> <span class="s2">&quot;query&quot;</span><span class="p">,</span>
			    <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span>
			    <span class="s2">&quot;list&quot;</span><span class="o">:</span> <span class="s2">&quot;random&quot;</span><span class="p">,</span>
			    <span class="s2">&quot;rnnamespace&quot;</span><span class="o">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
			    <span class="s2">&quot;rnlimit&quot;</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span>
		    <span class="p">}</span> <span class="p">).</span><span class="nx">then</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
			    <span class="c1">// We process here the result of our request</span>
			    <span class="c1">// By adding each page title to our list</span>
			    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
			    <span class="k">for</span> <span class="p">(</span> <span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">random</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
				    <span class="nx">generator</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">data</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">random</span><span class="p">[</span> <span class="nx">i</span> <span class="p">].</span><span class="nx">title</span> <span class="p">);</span>
			    <span class="p">}</span>

			    <span class="c1">// And once we&#39;re done we can resolve our promise</span>
			    <span class="c1">// So the process can end</span>
			    <span class="nx">generator</span><span class="p">.</span><span class="nx">deferred</span><span class="p">.</span><span class="nx">resolve</span><span class="p">();</span>
		    <span class="p">}</span> <span class="p">).</span><span class="nx">fail</span><span class="p">(</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">error</span> <span class="p">)</span> <span class="p">{</span>
			    <span class="c1">// If something goes wrong, we reject our promise</span>
			    <span class="c1">// So the process stops and our popup shows the error message</span>
			    <span class="nx">generator</span><span class="p">.</span><span class="nx">deferred</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span> <span class="k">new</span> <span class="nx">OO</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nb">Error</span><span class="p">(</span> <span class="nx">error</span> <span class="p">)</span> <span class="p">);</span>
		    <span class="p">}</span> <span class="p">);</span>

		    <span class="c1">// At this point we&#39;re not done yet, make the dialog closing process</span>
		    <span class="c1">// to wait the promise to be resolved or rejected</span>
		    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">deferred</span><span class="p">.</span><span class="nx">promise</span><span class="p">();</span>
	    <span class="p">};</span>
    <span class="p">}</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div></div><div class="printfooter">
Źródło: „<a dir="ltr" href="https://lingualibre.org/index.php?title=User:Olaf/common.js&amp;oldid=477649">https://lingualibre.org/index.php?title=User:Olaf/common.js&amp;oldid=477649</a>”</div>
					<div class="clear_both"></div>
				</div>
	    		<footer>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>		    						</footer>
			</article>
		</section>

		<footer id="footer">
			<div id="footer-left">
								<ul id="footer-left-top">
											<li id="footer-lastmod"> Tę stronę ostatnio edytowano 9 mar 2021, 11:08.</li>
											<li id="footer-copyright">Treść udostępniana na licencji <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons 4.0 Attribution-ShareAlike</a>, jeśli nie podano inaczej.</li>
									</ul>
				<ul id="footer-left-bottom">
											<li id="footer-privacy"><a href="/wiki/LinguaLibre:Privacy_policy" title="LinguaLibre:Privacy policy">Polityka ochrony prywatności</a></li>
											<li id="footer-aboutwmfr"><a href="https://www.wikimedia.fr">O Wikimédia France</a></li>
											<li id="footer-contact"><a href="mailto:info@wikimedia.fr">Kontakt</a></li>
																<li id="footer-twitter"><a href="https://twitter.com/LingLibre_WMFr"><img src="/skins/BlueLL/assets/stylesheets/icons/twitter-blue.svg"/></a></li>
									</ul>
			</div>
			<ul id="footer-right-icons">
				<li id="toolbox-menu" class="dropdown mobile-menu">
					<input id="toolbox-input" type="checkbox" role="button" aria-labelledby="toolbox-button" autocomplete="off" class="dropdown-input mobile-menu-input">
					<label id="toolbox-button" for="toolbox-input" class="dropdown-label mobile-menu-label">Narzędzia</label>
					<ul id="toolbox" class="dropdown-content mobile-menu-content">
						<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/User:Olaf/common.js" title="Pokaż listę wszystkich stron linkujących do tej strony [j]" accesskey="j">Linkujące</a></li><li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/User:Olaf/common.js" rel="nofollow" title="Ostatnie zmiany w stronach, do których ta strona linkuje [k]" accesskey="k">Zmiany w linkowanych</a></li><li id="t-contributions"><a href="/wiki/Special:Contributions/Olaf" title="Pokaż listę edycji tego użytkownika">Wkład użytkownika</a></li><li id="t-log"><a href="/wiki/Special:Log/Olaf">Rejestr operacji</a></li><li id="t-blockip"><a href="/wiki/Special:Block/Olaf">Zablokuj użytkownika</a></li><li id="t-userrights"><a href="/wiki/Special:UserRights/Olaf">Zobacz grupy użytkownika</a></li><li id="t-upload"><a href="/wiki/Special:Upload" title="Prześlij pliki [u]" accesskey="u">Prześlij plik</a></li><li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="Lista wszystkich specjalnych stron [q]" accesskey="q">Strony specjalne</a></li><li id="t-print"><a href="/index.php?title=User:Olaf/common.js&amp;printable=yes" rel="alternate" title="Wersja do wydruku [p]" accesskey="p">Wersja do druku</a></li><li id="t-permalink"><a href="/index.php?title=User:Olaf/common.js&amp;oldid=477649" title="Stały link do tej wersji strony">Link do tej wersji</a></li><li id="t-info"><a href="/index.php?title=User:Olaf/common.js&amp;action=info" title="Więcej informacji na temat tej strony">Informacje o tej stronie</a></li>						<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="Special:RecentChanges">Ostatnie zmiany</a></li>
					</ul>
					<label id="toolbox-mask" for="toolbox-input" class="mobile-menu-mask"></label>
				</li>

									<li class="copyright">
													<a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="/resources/assets/licenses/cc-by-sa.png" alt="Creative Commons 4.0 Attribution-ShareAlike" width="88" height="31"/></a>											</li>
									<li class="poweredby">
													<a href="//www.mediawiki.org/"><img src="/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>											</li>
							</ul>
		</footer>

		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.014","walltime":"0.014","ppvisitednodes":{"value":1,"limit":1000000},"ppgeneratednodes":{"value":4,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":1,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"entityaccesscount":{"value":0,"limit":250},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20210310005418","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":391});});</script>
		</body>
		</html>

